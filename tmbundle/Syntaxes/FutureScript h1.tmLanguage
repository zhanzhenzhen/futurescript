<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
    <key>name</key>
    <string>FutureScript h1</string>
    <key>scopeName</key>
    <string>source.fus.h1</string>
    <key>uuid</key>
    <string>A9F44CBB-014C-42C2-A275-4E53162D69D4</string>
    <key>firstLineMatch</key>
    <string>\bfus\b.*\b((0|1|2)\.\d+\.\d+)\b</string>
    <key>foldingStartMarker</key>
    <string>^\s*class\s+\S.*$|.*(-&gt;|&lt;&gt;)\s*$|.*[\[{]\s*$</string>
    <key>foldingStopMarker</key>
    <string>^\s*$|^\s*[}\]]\s*$</string>
    <key>keyEquivalent</key>
    <string>^~L</string>
    <key>patterns</key>
    <array>
        <dict>
            <key>name</key>
            <string>meta.fus.h1</string>
            <key>match</key>
            <string>^.*\bfus\b.*\b(\d+\.\d+\.\d+)\b[^\{]*$</string>
        </dict>
        <dict>
            <key>name</key>
            <string>meta.fus.h1</string>
            <key>begin</key>
            <string>^.*\bfus\b.*\b(\d+\.\d+\.\d+)\b\s*\,?\s*\{</string>
            <key>end</key>
            <string>\}.*$</string>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>^(\s*)[^"]*(?&lt;!\w)"$</string>
            <key>end</key>
            <string>^\1"</string>
            <key>comment</key>
            <string>To correctly hightlight it, please do not write any other " in the same line of the multiline string start/end position. This is due to the impossibility of a regular expression. If the regular expression allows it, then consider this example:
            "a"
            a
            "a"
            The middle a may be mistakenly highlighted as a multiline string.
            </string>
            <key>patterns</key>
            <array>
                <dict>
                    <key>match</key>
                    <string>\\(x..|u....|[^xu(])</string>
                    <key>name</key>
                    <string>constant.character.escape.fus.h1</string>
                </dict>
                <dict>
                    <key>include</key>
                    <string>#interpolated_fus</string>
                </dict>
            </array>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>^(\s*)[^"]*\b(v|js)"$</string>
            <key>end</key>
            <string>^\1"\w*</string>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>^(\s*)[^"]*\br"$</string>
            <key>end</key>
            <string>^\1"\w*</string>
            <key>patterns</key>
            <array>
                <dict>
                    <key>include</key>
                    <string>#interpolated_r_fus</string>
                </dict>
            </array>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>(?&lt;!\w)"(?=.)</string>
            <key>end</key>
            <string>"</string>
            <key>patterns</key>
            <array>
                <dict>
                    <key>match</key>
                    <string>\\(x..|u....|[^xu(])</string>
                    <key>name</key>
                    <string>constant.character.escape.fus.h1</string>
                </dict>
                <dict>
                    <key>include</key>
                    <string>#interpolated_fus</string>
                </dict>
            </array>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>\b(v|js)"(?=.)</string>
            <key>end</key>
            <string>"\w*</string>
        </dict>
        <dict>
            <key>contentName</key>
            <string>string.quoted.double.fus.h1</string>
            <key>begin</key>
            <string>\br"(?=.)</string>
            <key>end</key>
            <string>"\w*</string>
            <key>patterns</key>
            <array>
                <dict>
                    <key>match</key>
                    <string>\\"</string>
                    <key>name</key>
                    <string>constant.character.escape.fus.h1</string>
                </dict>
                <dict>
                    <key>include</key>
                    <string>#interpolated_r_fus</string>
                </dict>
            </array>
        </dict>
        <dict>
            <key>name</key>
            <string>comment.block.fus.h1</string>
            <key>begin</key>
            <string>(?&lt;!#)###(?!#)</string>
            <key>end</key>
            <string>###(?:[ \t]*\n)</string>
        </dict>
        <dict>
            <key>name</key>
            <string>comment.line.number-sign.fus.h1</string>
            <key>begin</key>
            <string>#</string>
            <key>end</key>
            <string>\n</string>
        </dict>
        <dict>
            <key>name</key>
            <string>keyword.control.fus.h1</string>
            <key>match</key>
            <string>(?x)
                \b(?&lt;![\.\$])(
                    above|and|as|catch|delete|do|else|export|finally|from|
                    if|ifnull|ifvoid|import|in|is|isnt|match|mod|new|nonew|not|or|pause|rem|
                    static|super|then|throw|try
                )(?!\s*:)\b
            </string>
            <key>comment</key>
            <string>"from" should only be bound with "class". This implementation is not accurate. But it's hard to make it accurate. Also, "ifvoid: " is not hightlighted well.</string>
        </dict>
        <dict>
            <key>name</key>
            <string>keyword.operator.fus.h1</string>
            <key>match</key>
            <string>(?x)
                \+ | (?&lt;!-)-(?!&gt;|-) | \* | / | \*\* | = | /= | ≠ | &lt;(?!&gt;) | (?&lt;!&lt;)&gt; |
                &lt;= | ≤ | &gt;= | ≥ | \|&gt; | \? | :: | \| |
                '[\w]*
            </string>
        </dict>
        <dict>
            <key>name</key>
            <string>constant.language.fus.h1</string>
            <key>match</key>
            <string>(?x)
                \b(?&lt;![\.\$])(
                    false|null|true|void
                )(?!\s*:)\b
            </string>
        </dict>
        <dict>
            <key>name</key>
            <string>entity.name.function.fus.h1</string>
            <key>match</key>
            <string>[\w\$][\w\.\$]*\s*:(?!:)</string>
            <key>comment</key>
            <string>In fact this name is wrong, but we must use this name because all well-known themes can highlight this. If use another name such as "variable", most likely it won't be highlighted.</string>
        </dict>
        <dict>
            <key>name</key>
            <string>variable.language.fus.h1</string>
            <key>match</key>
            <string>(?x)
                \b(?&lt;![\.\$])(
                    fun|me|Me|self
                )(?!\s*:)\b
            </string>
        </dict>
        <dict>
            <key>name</key>
            <string>storage.type.function.fus.h1</string>
            <key>match</key>
            <string>-&gt;|&lt;&gt;|--</string>
        </dict>
        <dict>
            <key>name</key>
            <string>storage.type.class.fus.h1</string>
            <key>match</key>
            <string>\b(?&lt;![\.\$])class(?!\s*:)\b</string>
        </dict>
    </array>
    <key>repository</key>
    <dict>
        <key>interpolated_fus</key>
        <dict>
            <key>patterns</key>
            <array>
                <dict>
                    <key>name</key>
                    <string>source.fus.h1.embedded.source</string>
                    <key>begin</key>
                    <string>\\\(</string>
                    <key>end</key>
                    <string>\)</string>
                    <key>captures</key>
                    <dict>
                        <key>0</key>
                        <dict>
                            <key>name</key>
                            <string>punctuation.section.embedded.fus.h1</string>
                        </dict>
                    </dict>
                    <key>patterns</key>
                    <array>
                        <dict>
                            <key>include</key>
                            <string>$self</string>
                        </dict>
                    </array>
                </dict>
            </array>
        </dict>
        <key>interpolated_r_fus</key>
        <dict>
            <key>patterns</key>
            <array>
                <dict>
                    <key>name</key>
                    <string>source.fus.h1.embedded.source</string>
                    <key>begin</key>
                    <string>#\(</string>
                    <key>end</key>
                    <string>\)</string>
                    <key>captures</key>
                    <dict>
                        <key>0</key>
                        <dict>
                            <key>name</key>
                            <string>punctuation.section.embedded.fus.h1</string>
                        </dict>
                    </dict>
                    <key>patterns</key>
                    <array>
                        <dict>
                            <key>include</key>
                            <string>$self</string>
                        </dict>
                    </array>
                </dict>
            </array>
        </dict>
    </dict>
</dict>
</plist>
